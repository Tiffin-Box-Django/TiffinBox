{% extends 'base.html' %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'styles/explore.css' %}">

<div class="container mt-5">
  <div class="row">
    <div class="col-md-3">
      <!-- Filter sidebar -->
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Filters</h5>
          <form>
            <!-- Dropdown for cuisine -->
            <div class="form-group">
              <label for="cuisine">Cuisine</label>
              <select class="form-control" id="cuisine">
                <option>Indian</option>
                <option>Italian</option>
                <option>Mexican</option>
                <!-- Add more options -->
              </select>
            </div>
            <!-- Dropdown for veg/non-veg -->
            <div class="form-group">
              <label for="veg_non_veg">Veg/Non-Veg</label>
              <select class="form-control" id="veg_non_veg">
                  {% for meal_type in meal_types %}
                    <option>{{ meal_type }}</option>
                  {% endfor %}
              </select>
            </div>
            <!-- Add more filters -->
            <!-- Sort by buttons -->
            <div class="form-group">
              <label>Sort By</label>
              <div class="btn-group d-flex" role="group">
                <button type="button" class="btn btn-primary flex-fill">Rating</button>
                <button type="button" class="btn btn-primary flex-fill">Price</button>
              </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Apply</button>
          </form>
        </div>
      </div>
    </div>
    <div class="col-md-9">
      <!-- Search bar -->
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Search by business name or food item" aria-label="Search" aria-describedby="basic-addon2">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button">Search</button>
        </div>
      </div>
      <!-- Tiffin cards -->
      <div class="row">
        {% for tiffin in tiffins %}
        <div class="col-md-4 mb-4">
          <div class="card">
            <!-- link using static reference -->
            <img src="{% static tiffin.photo %}" class="card-img-top" alt="{{ tiffin.name }}">
            <div class="card-body">
              <h5 class="card-title mb-1">{{ tiffin.name }}</h5>
              <p class="card-text text-muted mb-1">{{ tiffin.business }}</p>
              <!-- Render rating stars -->
              <div>
                {% for _ in tiffin.rating %}
                <span class="fa fa-star"></span>
                {% endfor %}
              </div>
              <a href="#" class="btn btn-primary">View Details</a>
              <p class="tw-light">${{ tiffin.price }}</p>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
