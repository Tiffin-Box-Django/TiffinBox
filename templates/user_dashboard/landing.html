{% extends "base.html" %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'styles/user_dashboard/landing.css' %}">
<!-- Include Slick Carousel CSS -->
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">
<link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">


<section class="hero">
    <div class="hero-content">
        <h1>Welcome to Tiffin Box</h1>
        <p>Your one-stop solution for delicious homemade tiffin meals!</p>
        <a href="{% url 'user_dashboard:explore' %}" class="btn btn-primary">Explore Now</a>
    </div>
</section>

<section id="top-tiffins" class="tiffins">
    <div class="container">
        <h2 class="text-center">Top Tiffins</h2>
        <div class="row justify-content-center">
            {% for tiffin in top_tiffins %}
            <div class="col-md-3 m-2" style="width: 18rem;">
                <div class="card rounded">
                    <img src="{{ tiffin.image }}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">{{ tiffin.tiffin_name }}</h5>
                        <p class="card-text"><small class="text-muted">{{ tiffin.tiffin_description|truncatechars:50 }}</small></p>
                        <a href="{% url 'user_dashboard:tiffindetails' tiffin.id %}" class="stretched-link"></a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section id="top-businesses" class="businesses">
    <div class="container">
        <h2 class="text-center">Top Businesses</h2>
        <div class="row justify-content-center">
            {% for business in top_businesses %}
            <div class="col-md-3 m-2">
                <div class="card rounded">
                    <img src="{{ business.profile_picture }}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">{{ business.first_name }} {{ business.last_name }}</h5>
                        <p class="card-text"><small class="text-muted">{{ business.shipping_address }}</small></p>
                        <a href="#" class="stretched-link"></a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<!-- Testimonials Section -->
{% if testimonials %}
<section class="testimonials">
    <div class="container">
        <h2 class="text-center">What Our Customers Say</h2>
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
              {% for testimonial in testimonials %}
              <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %} aria-label="Slide {{ forloop.counter }}">
              </button>
              {% endfor %}
            </div>
            <div class="carousel-inner">
              {% for testimonial in testimonials %}
              <div class="carousel-item {% if forloop.first %}active{% endif %}" data-bs-interval="2000">
                <div class="carousel-caption card-body">
                    <img src="{% static 'img/breakfast.jpg' %}"  alt="...">
                    <!-- <img src="{% static 'img/customer1.jpg' %}" alt="Customer 1"> -->
                    <div class="content">
                      <h5>{{ testimonial.user.first_name }} {{ testimonial.user.last_name }}</h5>
                      <p>{{ testimonial.comment }}</p>
                    </div>
                </div>
              </div>
              {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>  
    </div>
</section>
{% endif %}



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
<script src="{% static 'js/user_dashboard/landing.js' %}"></script>

{% endblock %}
